#!/usr/bin/env python
#_*_ coding: utf-8_*_
'''
Created on 2015-7-26

@author: luis
'''
import ConfigParser
from bs4 import BeautifulSoup
import cookielib
import os
import random
import re
import urllib
import urllib2

from Luis.WeiboCatch import WeiboCatch


class WeiboLogin():
    filename=""
    def __init__(self, urlse,user, pwd):
        self.url=urlse
        self.filename='FileCookieJar.txt'
    def loginweb1(self,sweb):
        try:
            config=ConfigParser.ConfigParser()
            with open('localconfig','r') as cfgfile:
                config.readfp(cfgfile)
                USERNAME=config.get('weibo','weibouser')
                PASSWD=config.get('weibo','weibopwd')
        except:
            print "no config"
            os._exit() 
        soup=BeautifulSoup(sweb)
        ##findAll 拿到的是一系列标签的list
        resp1 = soup.find('input', attrs = {'name':'vk'})['value']
        #resp2=soup.find('input',attrs={'name':'backURL'})['value']
        flag=resp1.split('_')[0]
        passwordflag="password_"+flag
        print passwordflag
        ckjar = cookielib.MozillaCookieJar(self.filename)
        rand=random.randint(500000000, 999999999)
        surl="http://login.weibo.cn/login/?rand="+str(rand)+"&backURL=http%3A%2F%2Fweibo.cn%2F&backTitle=%E5%BE%AE%E5%8D%9A&vt=4&revalid=2&ns=1"
        print surl
        req = urllib2.Request(surl)
        req.add_header('Accept','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8')
        #req.add_header('Accept-Encoding','gzip, deflate')#为了强制不让服器器返回的是压过过的页面
        req.add_header('Accept-Language','zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3')
        #Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)
        req.add_header('User-Agent', 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.0')
        req.add_header('Referer','http://login.weibo.cn/login/?ns=1&revalid=2&backURL=http%3A%2F%2Fweibo.cn%2F&backTitle=%CE%A2%B2%A9&vt=')
        postdata=urllib.urlencode({
                                   'mobile':USERNAME,#账户
                                   passwordflag:PASSWD,#密码
                                   'remember':'on',
                                   'backURL'  :  'http%3A%2F%2Fweibo.cn%2F',
                                   'backTitle'  :  '微博',
                                   'tryCount'   :'',
                                   'vk'  :  resp1,
                                   'submit'  :  '登录'
                                   })
        req.add_data(postdata)
        #req.add_header('host', 'login.weibo.cn')
        #req.host='login.weibo.cn'
        opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(ckjar) )
        f = opener.open(req)
        htm = f.read().decode('utf-8')
        print htm
        for item in ckjar:
            print "name:" +item.name
            print "Value:"+item.value
        ckjar.save(self.filename,ignore_discard=True, ignore_expires=True)
        f.close()
        #为什么可以不用初始化对象就可以直接通过类名调用方法，当然是不可以的，运行的时候就会报错
        #（这个错误很隐蔽，在编码过程中并不会报错，因为python是解释执行的
        #在运行过程中就会找不到这个方法。
        #解决方式，要么实例化对象后再调用方法，要么用“类方法”即在类名上加上@classmethod 修饰
        #并且要把方法的第一个默认参数写成cls）这里我采用第二种方法，在类名上加修饰符
        htm=re.sub(r"vt=\d+&amp;",'',htm)
        htm=re.sub(r"\?vt=\d+",'',htm)
        WeiboCatch.findweibo(htm)
    def getweibologin(self):
        ckjar = cookielib.MozillaCookieJar(self.filename)
        print self.url
        req = urllib2.Request(self.url)
        req.add_header('User-Agent', 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.0')
        opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(ckjar) )
        f = opener.open(req) 
        htm = f.read().decode('utf-8')
        for item in ckjar:
            print "name:" +item.name
            print "Value:"+item.value
        ckjar.save(self.filename,ignore_discard=True, ignore_expires=True)
        f.close()
        self.loginweb1(htm)
if __name__ == '__main__':
    sweb="<?xml version=\"1.0\" encoding=\"UTF-8\"?><!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"><html xmlns=\"http://www.w3.org/1999/xhtml\"><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /><meta http-equiv=\"Cache-Control\" content=\"no-cache\"/><meta id=\"viewport\" name=\"viewport\" content=\"width=device-width,initial-scale=1.0,minimum-scale=1.0, maximum-scale=2.0\" /><link rel=\"icon\" sizes=\"any\" mask href=\"http://h5.sinaimg.cn/upload/2015/05/15/28/WeiboLogoCh.svg\"><meta name=\"theme-color\" content=\"black\"><meta name=\"MobileOptimized\" content=\"240\"/><title>我的首页</title><style type=\"text/css\" id=\"internalStyle\">html,body,p,form,div,table,textarea,input,span,select{font-size:16px;word-wrap:break-word;}body{background:#F8F9F9;color:#000;padding:1px;margin:1px;}table,tr,td{border-width:0px;margin:0px;padding:0px;}form{margin:0px;padding:0px;border:0px;}textarea{border:1px solid #96c1e6}textarea{width:95%;}a,.tl{color:#2a5492;text-decoration:underline;}/*a:link {color:#023298}*/.k{color:#2a5492;text-decoration:underline;}.kt{color:#F00;}.ib{border:1px solid #C1C1C1;}.pm,.pmy{clear:both;background:#ffffff;color:#676566;border:1px solid #b1cee7;padding:3px;margin:2px 1px;overflow:hidden;}.pms{clear:both;background:#c8d9f3;color:#666666;padding:3px;margin:0 1px;overflow:hidden;}.pmst{margin-top: 5px;}.pmsl{clear:both;padding:3px;margin:0 1px;overflow:hidden;}.pmy{background:#DADADA;border:1px solid #F8F8F8;}.t{padding:0px;margin:0px;height:35px;}.b{background:#e3efff;text-align:center;color:#2a5492;clear:both;padding:4px;}.bl{color:#2a5492;}.n{clear:both;background:#436193;color:#FFF;padding:4px; margin: 1px;}.nt{color:#b9e7ff;}.nl{color:#FFF;text-decoration:none;}.nfw{clear:both;border:1px solid #BACDEB;padding:3px;margin:2px 1px;}.s{border-bottom:1px dotted #666666;margin:3px;clear:both;}.tip{clear:both; background:#c8d9f3;color:#676566;border:1px solid #BACDEB;padding:3px;margin:2px 1px;}.tip2{color:#000000;padding:2px 3px;clear:both;}.ps{clear:both;background:#FFF;color:#676566;border:1px solid #BACDEB;padding:3px;margin:2px 1px;}.tm{background:#feffe5;border:1px solid #e6de8d;padding:4px;}.tm a{color:#ba8300;}.tmn{color:#f00}.tk{color:#ffffff}.tc{color:#63676A;}.c{padding:2px 5px;}.c div a img{border:1px solid #C1C1C1;}.ct{color:#9d9d9d;font-style:italic;}.cmt{color:#9d9d9d;}.ctt{color:#000;}.cc{color:#2a5492;}.nk{color:#2a5492;}.por {border: 1px solid #CCCCCC;height:50px;width:50px;}.me{color:#000000;background:#FEDFDF;padding:2px 5px;}.pa{padding:2px 4px;}.nm{margin:10px 5px;padding:2px;}.hm{padding:5px;background:#FFF;color:#63676A;}.u{margin:2px 1px;background:#ffffff;border:1px solid #b1cee7;}.ut{padding:2px 3px;}.cd{text-align:center;}.r{color:#F00;}.g{color:#0F0;}.bn{background: transparent;border: 0 none;text-align: left;padding-left: 0;}</style><script>if(top != self){top.location = self.location;}</script></head><body><div class=\"c\"><a href=\"/pub/?tf=5_005&amp;vt=4\" id=\"top\" class=\"tl\">广场</a>.<a href=\"http://game.weibo.cn/?fcode=100110001003&amp;vt=4\">游戏</a>.<a href=\"/find/?tf=5_007&amp;vt=4\">找人</a>.<a href=\"/page/523?tf=5_008&amp;vt=4\" class=\"tl\">更多</a></div><div class=\"n\" style=\"padding: 6px 4px;\"><a href=\"http://weibo.cn/?tf=5_009&amp;vt=4\" class=\"nl\">首页</a>|<a href=\"http://weibo.cn/msg/?tf=5_010&amp;vt=4\" class=\"nl\">消息</a>|<a href=\"http://huati.weibo.cn?vt=4\" class=\"nl\">话题</a>|<a href=\"http://weibo.cn/search/?tf=5_012&amp;vt=4\" class=\"nl\">搜索</a>|<a href=\"/?rand=9465&amp;p=r&amp;vt=4\" class=\"nl\">刷新</a></div><div class=\"ps\"><a href=\"http://weibo.cn/notice/?adid=ad_55b2edd9c9554&amp;pos=332&amp;goto=http%3A%2F%2Fm.weibo.cn%2F2324974633%2F3868428295154437&amp;tokenid=3&amp;rl=0&amp;posid=pos50050822b9cde&amp;vt=4\">唐三终极活动</a>&nbsp;<a href=\"http://weibo.cn/notice/?adid=ad_55b2edd9c9554&amp;posid=pos50050822b9cde&amp;tokenid=3&amp;backurl=%2F%3Frand%3D9465&amp;rl=0&amp;vt=4\"><img src=\"http://u1.sinaimg.cn/upload/2011/08/01/5366.gif\" alt=\"[X]\" /></a></div><div class=\"u\"><div class=\"ut\">poiu1235<a href=\"http://vip2.weibo.cn/member/pay?F=W_tq_zsbs_01&amp;vt=4\"><img alt=\"M\" src=\"http://u1.sinaimg.cn/upload/h5/img/members/hy_gray_s2.png\"></a>&nbsp;<a href=\"/2468833122/info?vt=4\">资料40%</a>&nbsp;<a  href=\"/account/customize/?from=home&amp;vt=4&amp;st=011e6d\">设置</a>    </div><div class=\"tip2\"><a href=\"/2468833122/profile?vt=4\">微博[21]</a>&nbsp;<a href=\"/2468833122/follow?vt=4\">关注[56]</a>&nbsp;<a href=\"/2468833122/fans?vt=4\">粉丝[23]</a>&nbsp;<a href=\"/at/weibo?uid=2468833122&amp;vt=4\">@我的</a></div></div><div class=\"pms\" ><form action=\"/mblog/sendmblog?vt=4&amp;st=011e6d\" accept-charset=\"UTF-8\" method=\"post\"><div><input type=\"hidden\" name=\"rl\" value=\"0\" /><textarea name=\"content\" rows=\"2\" cols=\"20\">深夜发吃</textarea><br/><input type=\"submit\" value=\"发布\" /><input type=\"submit\" name=\"friends\" value=\"好友圈\" /><input type=\"submit\" name=\"composer\" value=\"高级\" /></div></form></div><div class=\"pms\" style=\"margin-top: 2px;\"><span class=\"tc\">全部</span>-<a href=\"/?feed=bilateral&amp;gid=10009&amp;vt=4\">好友圈</a>-<a href=\"/attgroup/index?vt=4\">分组</a>-<a href=\"/fav/?vt=4\">收藏</a>-<a href=\"/2468833122/search?f=h&amp;rl=0&amp;vt=4\">筛选</a></div><div class=\"c\" id=\"M_CsWok2Qzz\"><div><a class=\"nk\" href=\"http://weibo.cn/199it?vt=4\">199IT-互联网数据中心</a><img src=\"http://u1.sinaimg.cn/upload/2011/07/28/5337.gif\" alt=\"V\"/><img src=\"http://u1.sinaimg.cn/upload/h5/img/hyzs/donate_btn_s.png\" alt=\"M\"/><span class=\"ctt\">:【中国最具潜力城市出现“大洗牌”】英国经济学人智库发布的《2015中国新兴城市报告》，分析了中国城市的投资吸引力。与该智库5年前发布的中国新兴城市报告相比，这5年时间中，中国最具潜力城市出现了“大洗牌”。</span>&nbsp;[<a href=\"http://weibo.cn/mblog/picAll/CsWok2Qzz?rl=1&amp;vt=4\">组图共7张</a>]</div><div><a href=\"http://weibo.cn/mblog/pic/CsWok2Qzz?rl=0&amp;vt=4\"><img src=\"http://ww3.sinaimg.cn/wap180/6a8c1e07jw1eugiwwns8yj20fp0esmzx.jpg\" alt=\"图片\" class=\"ib\" /></a>&nbsp;<a href=\"http://weibo.cn/mblog/oripic?id=CsWok2Qzz&amp;u=6a8c1e07jw1eugiwwns8yj20fp0esmzx&amp;vt=4\">原图</a>&nbsp;<a href=\"http://weibo.cn/attitude/CsWok2Qzz/add?uid=2468833122&amp;rl=0&amp;gid=10001&amp;vt=4&amp;st=011e6d\">赞[2]</a>&nbsp;<a href=\"http://weibo.cn/repost/CsWok2Qzz?uid=1787567623&amp;rl=0&amp;gid=10001&amp;vt=4\">转发[1]</a>&nbsp;<a href=\"http://weibo.cn/comment/CsWok2Qzz?uid=1787567623&amp;rl=0&amp;gid=10001&amp;vt=4#cmtfrm\" class=\"cc\">评论[1]</a>&nbsp;<a href=\"http://weibo.cn/fav/addFav/CsWok2Qzz?rl=0&amp;vt=4&amp;st=011e6d\">收藏</a><!---->&nbsp;<span class=\"ct\">3分钟前&nbsp;来自iPhone 5s</span></div></div><div class=\"s\"></div><div class=\"c\" id=\"M_CsWnuiuZv\"><div><a class=\"nk\" href=\"http://weibo.cn/16fanriben?vt=4\">十六番-日本</a><img src=\"http://u1.sinaimg.cn/upload/h5/img/hyzs/donate_btn_s.png\" alt=\"M\"/><span class=\"cmt\">&nbsp;转发了&nbsp;<a href=\"http://weibo.cn/16fanriben?vt=4\">十六番-日本</a><img src=\"http://u1.sinaimg.cn/upload/h5/img/hyzs/donate_btn_s.png\" alt=\"M\"/>&nbsp;的微博:</span><span class=\"ctt\"><a href=\"http://weibo.cn/pages/100808topic?extparam=%E5%8D%81%E5%85%AD%E7%95%AA%E6%99%AF%E7%82%B9%E6%8E%A8%E8%8D%90&amp;from=feed&amp;vt=4\">#十六番景点推荐#</a>【京都永观堂禅林寺】每年11月中旬，满山红叶和红叶掩映下的殿堂、寺塔和倒映在池水中的红叶倒影，给人以一种难以描述的东方寺院美。入门后方丈还会提供免费绿茶可饮用，手捂热热的茶杯，坐在日式建筑的木板上，两脚晃呀晃，好不清闲。（来自macuda）</span>&nbsp;[<a href=\"http://weibo.cn/mblog/picAll/C5G0k1xSD?rl=1&amp;vt=4\">组图共9张</a>]</div><div><a href=\"http://weibo.cn/mblog/pic/C5G0k1xSD?rl=0&amp;vt=4\"><img src=\"http://ww4.sinaimg.cn/wap180/61c75203jw1epjn2zb4bxj20go0b3gpf.jpg\" alt=\"图片\" class=\"ib\" /></a>&nbsp;<a href=\"http://weibo.cn/mblog/oripic?id=C5G0k1xSD&amp;u=61c75203jw1epjn2zb4bxj20go0b3gpf&amp;vt=4\">原图</a>&nbsp;<span class=\"cmt\">赞[10]</span>&nbsp;<span class=\"cmt\">原文��发[15]</span>&nbsp;<a href=\"http://weibo.cn/comment/C5G0k1xSD?rl=0&amp;vt=4#cmtfrm\" class=\"cc\">原文评论[5]</a><!----></div><div><span class=\"cmt\">转发理由:</span>交通：京都站前乘5、57路巴士，南禅寺永观堂道站下车，步行3分钟； 京都站前乘100路巴士，东天王町下车，步行5分钟。票价：成人600日元， 中小学生400日元， 团体成人500日元/人, 中小学生350日元/人。更多信息在：<a href=\"http://weibo.cn/sinaurl?f=w&amp;u=http%3A%2F%2Ft.cn%2FarmASu&amp;ep=CsWnuiuZv%2C1640452611%2CCsWnuiuZv%2C1640452611&amp;vt=4\">http://t.cn/armASu</a>&nbsp;&nbsp;<a href=\"http://weibo.cn/attitude/CsWnuiuZv/add?uid=2468833122&amp;rl=0&amp;gid=10001&amp;vt=4&amp;st=011e6d\">赞[3]</a>&nbsp;<a href=\"http://weibo.cn/repost/CsWnuiuZv?uid=1640452611&amp;rl=0&amp;gid=10001&amp;vt=4\">转发[1]</a>&nbsp;<a href=\"http://weibo.cn/comment/CsWnuiuZv?uid=1640452611&amp;rl=0&amp;gid=10001&amp;vt=4#cmtfrm\" class=\"cc\">评论[0]</a>&nbsp;<a href=\"http://weibo.cn/fav/addFav/CsWnuiuZv?rl=0&amp;vt=4&amp;st=011e6d\">收藏</a><!---->&nbsp;<span class=\"ct\">5分钟前&nbsp;来自十六番分享</span></div></div><div class=\"s\"></div><div class=\"c\" id=\"M_CsWli7o48\"><div><a class=\"nk\" href=\"http://weibo.cn/16fan?vt=4\">十六番-香港</a><img src=\"http://u1.sinaimg.cn/upload/2011/07/28/5337.gif\" alt=\"V\"/><span class=\"cmt\">&nbsp;转发了&nbsp;<a href=\"http://weibo.cn/16fan?vt=4\">十六番-香港</a><img src=\"http://u1.sinaimg.cn/upload/2011/07/28/5337.gif\" alt=\"V\"/>&nbsp;的微博:</span><span class=\"ctt\">写好评赢拍立得写好评赢拍立得写好评赢拍立得！重要的事情每天都要说！</span></div><div><a href=\"http://weibo.cn/mblog/pic/CsN1RakRH?rl=0&amp;vt=4\"><img src=\"http://ww1.sinaimg.cn/wap180/61360f81jw1eufdl24h24j20hs2w6h37.jpg\" alt=\"图片\" class=\"ib\" /></a>&nbsp;<a href=\"http://weibo.cn/mblog/oripic?id=CsN1RakRH&amp;u=61360f81jw1eufdl24h24j20hs2w6h37&amp;vt=4\">原图</a>&nbsp;<span class=\"cmt\">赞[4]</span>&nbsp;<span class=\"cmt\">原文转发[1]</span>&nbsp;<a href=\"http://weibo.cn/comment/CsN1RakRH?rl=0&amp;vt=4#cmtfrm\" class=\"cc\">原文评论[0]</a><!----></div><div><span class=\"cmt\">转发理由:</span>快来参加[噢耶]&nbsp;&nbsp;<a href=\"http://weibo.cn/attitude/CsWli7o48/add?uid=2468833122&amp;rl=0&amp;gid=10001&amp;vt=4&amp;st=011e6d\">赞[0]</a>&nbsp;<a href=\"http://weibo.cn/repost/CsWli7o48?uid=1630932865&amp;rl=0&amp;gid=10001&amp;vt=4\">转发[0]</a>&nbsp;<a href=\"http://weibo.cn/comment/CsWli7o48?uid=1630932865&amp;rl=0&amp;gid=10001&amp;vt=4#cmtfrm\" class=\"cc\">评论[0]</a>&nbsp;<a href=\"http://weibo.cn/fav/addFav/CsWli7o48?rl=0&amp;vt=4&amp;st=011e6d\">收藏</a><!---->&nbsp;<span class=\"ct\">11分钟前&nbsp;来自三星Galaxy Note3</span></div></div><div class=\"s\"></div><div class=\"c\" id=\"M_CsWgzfOL2\"><div><a class=\"nk\" href=\"http://weibo.cn/16fan?vt=4\">十六番-香港</a><img src=\"http://u1.sinaimg.cn/upload/2011/07/28/5337.gif\" alt=\"V\"/><span class=\"ctt\">:桥底辣蟹—名不虚传！  来自番友berserker123  来自番友 <a href=\"http://weibo.cn/sinaurl?f=w&amp;u=http%3A%2F%2Ft.cn%2FR2WxfQA&amp;ep=CsWgzfOL2%2C1630932865%2CCsWgzfOL2%2C1630932865&amp;vt=4\">http://t.cn/R2WxfQA</a></span>&nbsp;[<a href=\"http://weibo.cn/mblog/picAll/CsWgzfOL2?rl=1&amp;vt=4\">组图共7张</a>]</div><div><a href=\"http://weibo.cn/mblog/pic/CsWgzfOL2?rl=0&amp;vt=4\"><img src=\"http://ww3.sinaimg.cn/wap180/61360f81jw1eugicslq71j20k00zkdry.jpg\" alt=\"图片\" class=\"ib\" /></a>&nbsp;<a href=\"http://weibo.cn/mblog/oripic?id=CsWgzfOL2&amp;u=61360f81jw1eugicslq71j20k00zkdry&amp;vt=4\">原图</a>&nbsp;<a href=\"http://weibo.cn/attitude/CsWgzfOL2/add?uid=2468833122&amp;rl=0&amp;gid=10001&amp;vt=4&amp;st=011e6d\">赞[7]</a>&nbsp;<a href=\"http://weibo.cn/repost/CsWgzfOL2?uid=1630932865&amp;rl=0&amp;gid=10001&amp;vt=4\">转发[9]</a>&nbsp;<a href=\"http://weibo.cn/comment/CsWgzfOL2?uid=1630932865&amp;rl=0&amp;gid=10001&amp;vt=4#cmtfrm\" class=\"cc\">评论[5]</a>&nbsp;<a href=\"http://weibo.cn/fav/addFav/CsWgzfOL2?rl=0&amp;vt=4&amp;st=011e6d\">收藏</a><!---->&nbsp;<span class=\"ct\">22分钟前&nbsp;来自三星Galaxy Note3</span></div></div><div class=\"s\"></div><div class=\"c\" id=\"M_CsWggCIX3\"><div><a class=\"nk\" href=\"http://weibo.cn/nlpjob?vt=4\">NLPJob</a><span class=\"cmt\">&nbsp;转发了&nbsp;<a href=\"http://weibo.cn/theapril?vt=4\">杭州楼</a>&nbsp;的微博:</span><span class=\"ctt\">【[蜡烛][蜡烛][蜡烛]】陈天洲教授，FAT，因患癌症，医治无效，于2015.07.26.上午09:29英年早逝，与世长辞，享年44岁。[蜡烛][蜡烛][蜡烛]</span>&nbsp;<span class=\"cmt\">赞[25]</span>&nbsp;<span class=\"cmt\">原文转发[370]</span>&nbsp;<a href=\"http://weibo.cn/comment/CsSR2qp8y?rl=0&amp;vt=4#cmtfrm\" class=\"cc\">原文评论[31]</a><!----></div><div><span class=\"cmt\">转发理由:</span>//<a href=\"/n/%E8%A2%81%E6%A0%91%E4%BB%91?vt=4\">@袁树仑</a>: [蜡烛]//<a href=\"/n/%E5%88%98%E6%B1%9F%E6%80%BB%E7%BC%96?vt=4\">@刘江总编</a>:叹息。 <a href=\"/n/%E9%99%88%E5%A4%A9%E6%B4%B2?vt=4\">@陈天洲</a> 老师2011年查出胰腺癌，此后微博多是柳叶刀文章研读。个人主页 <a href=\"http://weibo.cn/sinaurl?f=w&amp;u=http%3A%2F%2Ft.cn%2FRLS1koL&amp;ep=CsWggCIX3%2C3224962394%2CCsWggCIX3%2C3224962394&amp;vt=4\">http://t.cn/RLS1koL</a> //<a href=\"/n/%E5%85%AB%E6%80%AA8g?vt=4\">@八怪8g</a>:浙大混合班出身，计算机体系结构方向教授，罹患胰腺癌，抗争多年，因病成医，生病期间发表2篇医学顶级期刊Journal of clinical oncology，IF 18。&nbsp;&nbsp;<a href=\"http://weibo.cn/attitude/CsWggCIX3/add?uid=2468833122&amp;rl=0&amp;gid=10001&amp;vt=4&amp;st=011e6d\">赞[0]</a>&nbsp;<a href=\"http://weibo.cn/repost/CsWggCIX3?uid=3224962394&amp;rl=0&amp;gid=10001&amp;vt=4\">转发[9]</a>&nbsp;<a href=\"http://weibo.cn/comment/CsWggCIX3?uid=3224962394&amp;rl=0&amp;gid=10001&amp;vt=4#cmtfrm\" class=\"cc\">评论[1]</a>&nbsp;<a href=\"http://weibo.cn/fav/addFav/CsWggCIX3?rl=0&amp;vt=4&amp;st=011e6d\">收藏</a><!---->&nbsp;<span class=\"ct\">23分钟前&nbsp;来自微博 weibo.com</span></div></div><div class=\"s\"></div><div class=\"c\" id=\"M_CsWfNFGUJ\"><div><a class=\"nk\" href=\"http://weibo.cn/nlpjob?vt=4\">NLPJob</a><span class=\"cmt\">&nbsp;转发了&nbsp;<a href=\"http://weibo.cn/turingbook?vt=4\">刘江总编</a><img src=\"http://u1.sinaimg.cn/upload/2011/07/28/5338.gif\" alt=\"V\"/>&nbsp;的微博:</span><span class=\"ctt\">Udacity制作的信息图：如何选择第一门编程语言 <a href=\"http://weibo.cn/sinaurl?f=w&amp;u=http%3A%2F%2Ft.cn%2FR2l6P1F&amp;ep=CsWfNFGUJ%2C3224962394%2CCsrBFpbTb%2C1642316384&amp;vt=4\">http://t.cn/R2l6P1F</a> 看来看去，就是在三个里面选：Java、JavaScript和Python</span></div><div><a href=\"http://weibo.cn/mblog/pic/CsrBFpbTb?rl=0&amp;vt=4\"><img src=\"http://ww4.sinaimg.cn/wap180/61e3c260jw1eucqzb6dkzj20uk3rkqm0.jpg\" alt=\"图片\" class=\"ib\" /></a>&nbsp;<a href=\"http://weibo.cn/mblog/oripic?id=CsrBFpbTb&amp;u=61e3c260jw1eucqzb6dkzj20uk3rkqm0&amp;vt=4\">原图</a>&nbsp;<span class=\"cmt\">赞[4]</span>&nbsp;<span class=\"cmt\">原文转发[20]</span>&nbsp;<a href=\"http://weibo.cn/comment/CsrBFpbTb?rl=0&amp;vt=4#cmtfrm\" class=\"cc\">原文评论[7]</a><!----></div><div><span class=\"cmt\">转发理由:</span>//<a href=\"/n/%E5%BC%A0%E7%BF%94-%E8%A5%BF%E5%AE%89%E7%90%86%E5%B7%A5%E5%A4%A7%E5%AD%A6?vt=4\">@张翔-西安理工大学</a>: 选python&nbsp;&nbsp;<a href=\"http://weibo.cn/attitude/CsWfNFGUJ/add?uid=2468833122&amp;rl=0&amp;gid=10001&amp;vt=4&amp;st=011e6d\">赞[1]</a>&nbsp;<a href=\"http://weibo.cn/repost/CsWfNFGUJ?uid=3224962394&amp;rl=0&amp;gid=10001&amp;vt=4\">转发[0]</a>&nbsp;<a href=\"http://weibo.cn/comment/CsWfNFGUJ?uid=3224962394&amp;rl=0&amp;gid=10001&amp;vt=4#cmtfrm\" class=\"cc\">评论[0]</a>&nbsp;<a href=\"http://weibo.cn/fav/addFav/CsWfNFGUJ?rl=0&amp;vt=4&amp;st=011e6d\">收藏</a><!---->&nbsp;<span class=\"ct\">24分钟前&nbsp;来自微博 weibo.com</span></div></div><div class=\"s\"></div><div class=\"c\" id=\"M_CsWfqCynJ\"><div><a class=\"nk\" href=\"http://weibo.cn/nlpjob?vt=4\">NLPJob</a><span class=\"cmt\">&nbsp;转发了&nbsp;<a href=\"http://weibo.cn/ksldd?vt=4\">快速路交警</a><img src=\"http://u1.sinaimg.cn/upload/2011/07/28/5337.gif\" alt=\"V\"/><img src=\"http://u1.sinaimg.cn/upload/h5/img/hyzs/donate_btn_s.png\" alt=\"M\"/>&nbsp;的微博:</span><span class=\"ctt\">【[伤心]安全警示：女子被卷入商场扶梯身亡】<a href=\"http://weibo.cn/pages/100808topic?extparam=%E6%B9%96%E5%8C%97%E8%8D%86%E5%B7%9E%E7%94%B5%E6%A2%AF%E4%BA%8B%E6%95%85&amp;from=feed&amp;vt=4\">#湖北荆州电梯事故#</a>今天，荆州某百货商场内，一女子被手扶电梯卷入，电梯内箱打开后已无生命迹象。家属称，当时女子抱着孩子踏上扶梯最后一块踏板时，踏板松了，女子被搅入扶梯，孩子被举出来没受伤。事故原因正在调查中。 <a href=\"http://weibo.cn/sinaurl?f=w&amp;u=http%3A%2F%2Ft.cn%2FRLSkv3U&amp;ep=CsWfqCynJ%2C3224962394%2CCsW2oshTA%2C2609763902&amp;vt=4\">http://t.cn/RLSkv3U</a> .</span>&nbsp;<span class=\"cmt\">赞[12]</span>&nbsp;<span class=\"cmt\">原文转发[103]</span>&nbsp;<a href=\"http://weibo.cn/comment/CsW2oshTA?rl=0&amp;vt=4#cmtfrm\" class=\"cc\">原文评论[62]</a><!----></div><div><span class=\"cmt\">转发理由:</span>//<a href=\"/n/SiDT?vt=4\">@SiDT</a>: 看见标题有点不能相信会发怎样的事情，才能导致这样的悲催结果，知道看完视频。乘扶梯已经是个多么平常的事情，竟然还能出这么不可思议的事情。感觉像恐怖片一样，击碎了建立在习以为常之上的安全感。[蜡烛]有人该为此负责！！！&nbsp;&nbsp;<a href=\"http://weibo.cn/attitude/CsWfqCynJ/add?uid=2468833122&amp;rl=0&amp;gid=10001&amp;vt=4&amp;st=011e6d\">赞[0]</a>&nbsp;<a href=\"http://weibo.cn/repost/CsWfqCynJ?uid=3224962394&amp;rl=0&amp;gid=10001&amp;vt=4\">转发[4]</a>&nbsp;<a href=\"http://weibo.cn/comment/CsWfqCynJ?uid=3224962394&amp;rl=0&amp;gid=10001&amp;vt=4#cmtfrm\" class=\"cc\">评论[0]</a>&nbsp;<a href=\"http://weibo.cn/fav/addFav/CsWfqCynJ?rl=0&amp;vt=4&amp;st=011e6d\">收藏</a><!---->&nbsp;<span class=\"ct\">25分钟前&nbsp;来自微博 weibo.com</span></div></div><div class=\"s\"></div><div class=\"c\" id=\"M_CsWdMpMOw\"><div><a class=\"nk\" href=\"http://weibo.cn/nlpjob?vt=4\">NLPJob</a><span class=\"cmt\">&nbsp;转发了&nbsp;<a href=\"http://weibo.cn/zibuyu9?vt=4\">刘知远THU</a><img src=\"http://u1.sinaimg.cn/upload/2011/07/28/5338.gif\" alt=\"V\"/><img src=\"http://u1.sinaimg.cn/upload/h5/img/hyzs/donate_btn_s.png\" alt=\"M\"/>&nbsp;的微博:</span><span class=\"ctt\">最近写了一篇关于知识图谱的科普短文《知识图谱——机器大脑中的知识库》，未来可能会成为一本书中的一章，先放出来敬请大家指正：<a href=\"http://weibo.cn/sinaurl?f=w&amp;u=http%3A%2F%2Ft.cn%2FRLSkl8l&amp;ep=CsWdMpMOw%2C3224962394%2CCsW7fylFU%2C1464484735&amp;vt=4\">http://t.cn/RLSkl8l</a> [微笑]</span>&nbsp;<span class=\"cmt\">赞[4]</span>&nbsp;<span class=\"cmt\">原文转发[53]</span>&nbsp;<a href=\"http://weibo.cn/comment/CsW7fylFU?rl=0&amp;vt=4#cmtfrm\" class=\"cc\">原文评论[1]</a><!----></div><div><span class=\"cmt\">转发理由:</span>//<a href=\"/n/%E7%AB%A0%E6%88%90%E5%BF%97?vt=4\">@章成志</a>: 转发微博&nbsp;&nbsp;<a href=\"http://weibo.cn/attitude/CsWdMpMOw/add?uid=2468833122&amp;rl=0&amp;gid=10001&amp;vt=4&amp;st=011e6d\">赞[0]</a>&nbsp;<a href=\"http://weibo.cn/repost/CsWdMpMOw?uid=3224962394&amp;rl=0&amp;gid=10001&amp;vt=4\">转发[3]</a>&nbsp;<a href=\"http://weibo.cn/comment/CsWdMpMOw?uid=3224962394&amp;rl=0&amp;gid=10001&amp;vt=4#cmtfrm\" class=\"cc\">评论[0]</a>&nbsp;<a href=\"http://weibo.cn/fav/addFav/CsWdMpMOw?rl=0&amp;vt=4&amp;st=011e6d\">收藏</a><!---->&nbsp;<span class=\"ct\">29分钟前&nbsp;来自微博 weibo.com</span></div></div><div class=\"s\"></div><div class=\"c\" id=\"M_CsWdBaw1c\"><div><a class=\"nk\" href=\"http://weibo.cn/nlpjob?vt=4\">NLPJob</a><span class=\"cmt\">&nbsp;转发了&nbsp;<a href=\"http://weibo.cn/alexwhu?vt=4\">耗资小王</a><img src=\"http://u1.sinaimg.cn/upload/2011/08/16/5547.gif\" alt=\"达人\"/>&nbsp;的微博:</span><span class=\"ctt\"><a href=\"http://weibo.cn/sinaurl?f=w&amp;u=http%3A%2F%2Ft.cn%2FRLSkeki&amp;ep=CsWdBaw1c%2C3224962394%2CCsW9x8tHp%2C1658771391&amp;vt=4\">http://t.cn/RLSkeki</a> 宝宝树BIG大数据团队招聘，欢迎关注介绍和推荐，北京东三环：地铁10号线/6号线呼家楼站/10号线团结湖站 简历投递： 王浩 wanghao<a href=\"/n/babytree-inc?vt=4\">@babytree-inc</a>.com： 招聘职位： 1、自然语言处理算法工程师；2、算法/数据挖掘工程师；3、资深数据分析师；4、高级数据产品经理；5、数据工程师</span></div><div><a href=\"http://weibo.cn/mblog/pic/CsW9x8tHp?rl=0&amp;vt=4\"><img src=\"http://ww3.sinaimg.cn/wap180/62ded7bfgw1eughv1u2vfj205104uq35.jpg\" alt=\"图片\" class=\"ib\" /></a>&nbsp;<a href=\"http://weibo.cn/mblog/oripic?id=CsW9x8tHp&amp;u=62ded7bfgw1eughv1u2vfj205104uq35&amp;vt=4\">原图</a>&nbsp;<span class=\"cmt\">赞[2]</span>&nbsp;<span class=\"cmt\">原文转发[3]</span>&nbsp;<a href=\"http://weibo.cn/comment/CsW9x8tHp?rl=0&amp;vt=4#cmtfrm\" class=\"cc\">原文评论[1]</a><!----></div><div><span class=\"cmt\">转发理由:</span>好机会&nbsp;&nbsp;<a href=\"http://weibo.cn/attitude/CsWdBaw1c/add?uid=2468833122&amp;rl=0&amp;gid=10001&amp;vt=4&amp;st=011e6d\">赞[0]</a>&nbsp;<a href=\"http://weibo.cn/repost/CsWdBaw1c?uid=3224962394&amp;rl=0&amp;gid=10001&amp;vt=4\">转发[0]</a>&nbsp;<a href=\"http://weibo.cn/comment/CsWdBaw1c?uid=3224962394&amp;rl=0&amp;gid=10001&amp;vt=4#cmtfrm\" class=\"cc\">评论[0]</a>&nbsp;<a href=\"http://weibo.cn/fav/addFav/CsWdBaw1c?rl=0&amp;vt=4&amp;st=011e6d\">收藏</a><!---->&nbsp;<span class=\"ct\">29分钟前&nbsp;来自微博 weibo.com</span></div></div><div class=\"s\"></div><div class=\"c\" id=\"M_CsWbzi5sC\"><div><a class=\"nk\" href=\"http://weibo.cn/199it?vt=4\">199IT-互联网数据中心</a><img src=\"http://u1.sinaimg.cn/upload/2011/07/28/5337.gif\" alt=\"V\"/><img src=\"http://u1.sinaimg.cn/upload/h5/img/hyzs/donate_btn_s.png\" alt=\"M\"/><span class=\"ctt\">:【今天我们聊聊高颜值的负面效果】即使在大部分情况下，美丽会成为你的通关卡，但高颜值并不能保证一个一帆风顺的人生，有时它会带来反效果，甚至是麻烦。正如女作家多罗茜•帕克的那句至理名言：“美貌浅及皮毛，丑恶深邃入骨。”查看文章<a href=\"http://weibo.cn/sinaurl?f=w&amp;u=http%3A%2F%2Ft.cn%2FRLSFUp5&amp;ep=CsWbzi5sC%2C1787567623%2CCsWbzi5sC%2C1787567623&amp;vt=4\">《高颜值的负面效果》</a> </span>&nbsp;<a href=\"http://weibo.cn/attitude/CsWbzi5sC/add?uid=2468833122&amp;rl=0&amp;gid=10001&amp;vt=4&amp;st=011e6d\">赞[7]</a>&nbsp;<a href=\"http://weibo.cn/repost/CsWbzi5sC?uid=1787567623&amp;rl=0&amp;gid=10001&amp;vt=4\">转发[6]</a>&nbsp;<a href=\"http://weibo.cn/comment/CsWbzi5sC?uid=1787567623&amp;rl=0&amp;gid=10001&amp;vt=4#cmtfrm\" class=\"cc\">评论[0]</a>&nbsp;<a href=\"http://weibo.cn/fav/addFav/CsWbzi5sC?rl=0&amp;vt=4&amp;st=011e6d\">收藏</a><!---->&nbsp;<span class=\"ct\">34分钟前&nbsp;来自iPhone 5s</span></div></div><div class=\"s\"></div><div class=\"pa\" id=\"pagelist\"><form action=\"/?since_id=0&amp;max_id=CsW7Ig52y&amp;prev_page=1&amp;vt=4\" method=\"post\"><div><a href=\"/?since_id=0&amp;max_id=CsW7Ig52y&amp;prev_page=1&amp;page=2&amp;vt=4\">下页</a>&nbsp;<input name=\"mp\" type=\"hidden\" value=\"50\" /><input type=\"text\" name=\"page\" size=\"2\" style='-wap-input-format: \"*N\"' /><input type=\"submit\" value=\"跳页\" />&nbsp;1/50页</div></form></div><div class=\"pm\"><form action=\"/search/?vt=4\" method=\"post\"><div><input type=\"text\" name=\"keyword\" value=\"\" size=\"15\" /><input type=\"submit\" name=\"smblog\" value=\"搜微博\" /><input type=\"submit\" name=\"suser\" value=\"找人\" /><br/><span class=\"pmf\"><a href=\"/search/mblog/?keyword=2015%E6%B8%B8%E6%B3%B3%E4%B8%96%E9%94%A6%E8%B5%9B&amp;rl=0&amp;vt=4\" class=\"k\">2015游泳世锦赛</a>&nbsp;<a href=\"/search/mblog/?keyword=%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E4%B8%8D%E8%B0%88%E6%81%8B%E7%88%B1&amp;rl=0&amp;vt=4\" class=\"k\">为什么还不谈恋爱</a>&nbsp;<a href=\"/search/mblog/?keyword=%E5%BC%A0%E8%89%BA%E5%85%B4%E7%88%B1%E7%9A%84%E4%BE%9B%E6%B0%A7&amp;rl=0&amp;vt=4\" class=\"k\">张艺兴爱的供氧</a></span></div></form></div><div class=\"cd\"><a href=\"#top\"><img src=\"http://u1.sinaimg.cn/3g/image/upload/0/62/203/18979/5e990ec2.gif\" alt=\"TOP\"/></a></div><div class=\"pms\"> <a href=\"http://weibo.cn?vt=4\">首页</a>.<a href=\"http://weibo.cn/topic/240489?vt=4\">反馈</a>.<a href=\"http://weibo.cn/page/91?vt=4\">帮助</a>.<a  href=\"http://down.sina.cn/weibo/default/index/soft_id/1/mid/0?vt=4\" >客户端</a>.<a href=\"http://weibo.cn/spam/?rl=0&amp;type=3&amp;fuid=2468833122&amp;vt=4\" class=\"kt\">举报</a>.<a href=\"http://passport.sina.cn/sso/logout?r=http%3A%2F%2Fweibo.cn%2Fpub%2F%3Fvt%3D4&amp;entry=mweibo&amp;vt=4\">退出</a></div><div class=\"c\">设置:<a href=\"http://weibo.cn/account/customize/skin?tf=7_005&amp;vt=4&amp;st=011e6d\">皮肤</a>.<a href=\"http://weibo.cn/account/customize/pic?tf=7_006&amp;vt=4&amp;st=011e6d\">图片</a>.<a href=\"http://weibo.cn/account/customize/pagesize?tf=7_007&amp;vt=4&amp;st=011e6d\">条数</a>.<a href=\"http://weibo.cn/account/privacy/?tf=7_008&amp;vt=4&amp;st=011e6d\">隐私</a></div><div class=\"c\">彩版|<a href=\"http://m.weibo.cn/?tf=7_010&amp;vt=4\">触屏</a>|<a href=\"http://weibo.cn/page/521?tf=7_011&amp;vt=4\">语音</a></div><div class=\"b\">weibo.cn[07-26 22:04]</div></body></html> "
    WeiboLogin('','','').findweibo(sweb)